# AiTUI - Минималистичный TUI Чат-бот

![AiTUI Demo](demo.png)

AiTUI — это легковесный терминальный интерфейс для взаимодействия с различными большими языковыми моделями (LLM). Он обладает чистым интерфейсом с поддержкой Markdown, историей чатов и интеграцией с несколькими провайдерами.

## Особенности

- **Поддержка нескольких провайдеров**: Интеграция с OpenRouter, Ollama и OpenAI-совместимыми API.
- **Рендеринг Markdown**: Поддержка форматированного текста в терминале, включая заголовки, блоки кода и таблицы.
- **История чатов**: Постоянное хранение диалогов с использованием SQLite.
- **Адаптивный TUI**: Построен на базе `curses`, включает боковую панель для управления чатами и центрированный макет чата.
- **Стриминг**: Потоковая передача ответов от LLM в реальном времени.
- **Выбор модели**: Удобное переключение между моделями и провайдерами прямо в приложении.

## Установка

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/yourusername/AiTUI.git
   cd AiTUI
   ```

2. **Настройте виртуальное окружение**:
   ```bash
   python -m venv venv
   source venv/bin/activate  # На Windows используйте `venv\Scripts\activate`
   ```

3. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Сделайте скрипт исполняемым**:
   ```bash
   chmod +x main.py
   ```

5. **Создайте системную команду**:
   Чтобы запускать `aitui` из любого места, создайте символическую ссылку:
   ```bash
   sudo ln -s $(pwd)/main.py /usr/bin/aitui
   ```

## Конфигурация

По умолчанию приложение ищет файл конфигурации по пути `~/.config/aitui/config.yaml`. Вы также можете указать произвольный путь с помощью флага `-c`.

Пример `config.yaml`:
```yaml
provider: "openrouter"

openrouter:
  api_key: "ваш_api_ключ"
  model: "google/gemini-2.0-flash"

ollama:
  base_url: "http://localhost:11434"
  model: "gemma2"

openai:
  api_url: "https://api.openai.com/v1"
  api_key: "ваш_api_ключ"
  model: "gpt-4o"
```

## Использование

Запустите приложение:
```bash
aitui  # Если создана символическая ссылка
# ИЛИ
python main.py
```

### Аргументы командной строки

- `-c`, `--config`: Путь к файлу конфигурации.
- `-p`, `--provider`: Переопределить провайдера LLM по умолчанию.
- `-m`, `--model`: Переопределить модель по умолчанию.
- `-d`, `--db`: Путь к файлу базы данных SQLite.

### Горячие клавиши

| Клавиша | Действие |
|---------|----------|
| **Tab** | Переключить фокус между вводом и боковой панелью |
| **Enter** | Отправить сообщение / Выбрать чат или модель |
| **Ctrl+B** | Показать/скрыть боковую панель |
| **Ctrl+G** | Открыть выбор модели |
| **Ctrl+N** | Создать новый чат |
| **Ctrl+D** | Удалить текущий/выбранный чат |
| **Ctrl+H** | Показать экран справки |
| **Esc** | Выйти из приложения |
| **PgUp/PgDn** | Прокрутка истории чата |

## Требования

- Python 3.x
- `requests`
- `PyYAML`
- `curses` (обычно входит в стандартную библиотеку Python на Linux/macOS)
